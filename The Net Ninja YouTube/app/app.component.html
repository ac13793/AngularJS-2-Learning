<div class="container">
    <h2>User data</h2>
    <form #userForm = "ngForm" (ngSubmit) = "onSubmit(userForm.value)" novalidate>
        <div class="form-group">
            <label>Name</label>
            <input type="text" class="form-control" name = "name" [(ngModel)] = "name"/>
            <p>{{name}}</p>
        </div>
        <div class="form-group">
            <label>Email</label>
            <input type="text" #emailRef = "ngModel" required class="form-control" name = "email" ngModel/>
            <p>{{emailRef.className}}</p>
            <div [hidden] = "emailRef.valid || emailRef.pristine" class="alert alert-danger">
                Please enter valid email id
            </div>
        </div>
        <div ngModelGroup = "address">
            <div class="form-group">
                <label>Street</label>
                <input type="text" class="form-control" name = "street" ngModel/>
            </div>
            <div class="form-group">
                <label>City</label>
                <input type="text" class="form-control" name = "city" ngModel/>
            </div>
            <div class="form-group">
                <label>Postal Code</label>
                <input type="text" required #postalCodeRef="ngModel" class="form-control" minlength="6" name = "postalCode" ngModel/>
                <div *ngIf="postalCodeRef.errors && (postalCodeRef.dirty ||postalCodeRef.touched)" class="alert alert-danger">
                    <div [hidden]="!postalCodeRef.errors.required">
                        Please enter postal code
                    </div>
                    <div [hidden]="!postalCodeRef.errors.minlength">
                        Please enter atleast 6 characters
                    </div>
                </div>
            </div>
        </div>
        <button [disabled]="!userForm.valid" type="submit" class="btn btn-primary">Submit</button>
    </form>
</div>